<?xml version="1.0"?>
<PropertyList>
	<fx>
	
		<!-- ========= Intro ============ -->	

		<intro>
			<name>Introduction by John Williams</name>
			<path>Aircraft/Spitfire/Sounds/T4T/intro.wav</path>
			<condition>
				<and>
					<greater-than>
						<property>/fdm/jsbsim/simulation/sim-time-sec</property>
						<value>0</value>
					</greater-than>
					<less-than>
						<property>/fdm/jsbsim/simulation/sim-time-sec</property>
						<value>160</value>
					</less-than>
				</and>
			</condition>
			<volume>
				<factor>0.75</factor>
			</volume>
			<reference-dist>10.0</reference-dist>
			<max-dist>20.0</max-dist>		
		</intro>	

		<!-- ========= Engine ============ -->
		<cartridge>
			<name>cartstart</name>
			<path>Aircraft/Spitfire/Sounds/starter-cart-long.wav</path>
			<condition>
				<and>
					<property>/engines/engine/cranking</property>
					<equals>
						<property>/sim/aircraft</property>
						<value>spitfireIIa</value>
					</equals>
				</and>
			</condition>
			<volume>
				<property>/orientation/alpha-deg</property>
				<type>log</type>
				<min>0.5</min>
				<max>1.0</max>
			</volume>
			<volume>
				<factor>1.2</factor>
				<max>1.0</max>
			</volume>
		</cartridge>

		<crank>
			<name>engstart</name>
			<path>Aircraft/Spitfire/Sounds/merlin_starter.wav</path>
			<condition>
				<and>
					<property>/engines/engine/cranking</property>
					<not>
						<equals>
							<property>/sim/aircraft</property>
							<value>spitfireIIa</value>
						</equals>
					</not>
				</and>
			</condition>
			<volume>
				<property>/orientation/alpha-deg</property>
				<type>log</type>
				<min>0.5</min>
				<max>1.0</max>
			</volume>
			<volume>
				<factor>1.2</factor>
				<max>1.0</max>
			</volume>
		</crank>

		<crank>
			<name>cough</name>
			<path>Sounds/coughing.wav</path>
			<property>/engines/engine/running</property>
			<volume>
				<property>/orientation/alpha-deg</property>
				<type>log</type>
				<min>0.5</min>
				<max>1.0</max>
			</volume>
			<volume>
				<factor>1.2</factor>
				<max>1.0</max>
			</volume>
		</crank>
		<engine>
			<name>engine misfire</name>
			<mode>looped</mode>
			<path>Aircraft/Spitfire/Sounds/merlin_rpm1.wav</path>
			<condition>
				<property>/engines/engine/running</property>				
				<less-than>
					<property>/fdm/jsbsim/propulsion/engine[0]/volumetric-efficiency</property>
					<value>0.2</value>
				</less-than>
			</condition>
			<volume>
				<property>/orientation/alpha-deg</property>
				<type>log</type>
				<min>1.0</min>
				<max>1.5</max>
			</volume>
			<volume>
				<property>/sim/current-view/internal</property>
				<offset>1.0</offset>
				<factor>-0.4</factor>
			</volume>
		</engine>
		<engine-1>
			<name>engine idle rpm</name>
			<mode>looped</mode>
			<path>Aircraft/Spitfire/Sounds/merlin_rpm1.wav</path>
			<condition>
				<property>/engines/engine/running</property>
				<less-than>
					<property>/engines/engine/rpm</property>
					<value>1100</value>
				</less-than>
				<greater-than>
					<property>/engines/engine/rpm</property>
					<value>150</value>
				</greater-than>
				<greater-than>
					<property>/fdm/jsbsim/propulsion/engine[0]/volumetric-efficiency</property>
					<value>0.2</value>
				</greater-than>			
			</condition>
			<volume>
				<property>/orientation/alpha-deg</property>
				<type>log</type>
				<min>1.0</min>
				<max>1.5</max>
			</volume>
			<volume>
				<property>/sim/current-view/internal</property>
				<offset>1.0</offset>
				<factor>-0.4</factor>
			</volume>
			<pitch>
				<property>/engines/engine/rpm</property>
				<factor>0.0009496</factor>
				<min>0.6</min>
				<max>2.0</max>
				<offset>0</offset>
			</pitch>
		</engine-1>		
		<engine-2>
			<name>engine low rpm</name>
			<mode>looped</mode>
			<path>Aircraft/Spitfire/Sounds/spita.wav</path>
			<condition>
				<property>/engines/engine/running</property>
				<greater-than-equals>
					<property>/engines/engine/rpm</property>
					<value>1100</value>
				</greater-than-equals>
				<less-than>
					<property>/engines/engine/rpm</property>
					<value>1800</value>
				</less-than>
				<greater-than>
					<property>/fdm/jsbsim/propulsion/engine[0]/volumetric-efficiency</property>
					<value>0.2</value>
				</greater-than>					
			</condition>
			<volume>
				<property>/orientation/alpha-deg</property>
				<type>log</type>
				<min>1.0</min>
				<max>1.5</max>
			</volume>
			<volume>
				<property>/sim/current-view/internal</property>
				<offset>1.0</offset>
				<factor>-0.4</factor>
			</volume>
			<pitch>
				<property>/engines/engine/rpm</property>
				<factor>0.0006697</factor>
				<min>0.3</min>
				<max>2.0</max>
				<offset>0</offset>
			</pitch>
		</engine-2>
		<engine-4>
			<name>engine high rpm</name>
			<mode>looped</mode>
			<path>Aircraft/Spitfire/Sounds/merlin_rpm4.wav</path>
			<condition>
				<property>/engines/engine/running</property>
				<greater-than-equals>
					<property>/engines/engine/rpm</property>
					<value>1800</value>
				</greater-than-equals>
				<greater-than>
					<property>/fdm/jsbsim/propulsion/engine[0]/volumetric-efficiency</property>
					<value>0.2</value>
				</greater-than>				
			</condition>
			<volume>
				<property>/orientation/alpha-deg</property>
				<type>log</type>
				<min>1.0</min>
				<max>1.5</max>
			</volume>
			<volume>
				<property>/sim/current-view/internal</property>
				<offset>1.0</offset>
				<factor>-0.4</factor>
			</volume>
			<pitch>
				<property>/engines/engine/rpm</property>
				<factor>0.0004166</factor>
				<!--<factor>0.000462</factor>-->
				<min>0.3</min>
				<max>2.0</max>
				<offset>0</offset>
			</pitch>
		</engine-4>
		<engine-0>
			<name>engine shut down rpm</name>
			<path>Aircraft/Spitfire/Sounds/merlin_shutdown.wav</path>
			<condition>
				<property>/engines/engine/running</property>
				<not>
					<property>controls/engines/engine/cutoff</property>
				</not>
				<less-than-equals>
					<property>/engines/engine/rpm</property>
					<value>150</value>
				</less-than-equals>
			</condition>
			<volume>
				<property>/orientation/alpha-deg</property>
				<type>log</type>
				<min>1.0</min>
				<max>1.5</max>
			</volume>
			<volume>
				<property>/sim/current-view/internal</property>
				<offset>1.0</offset>
				<factor>-0.4</factor>
			</volume>
		</engine-0>

		<!-- ============== gear ================ -->
		<rumble>
			<name>rumble</name>
			<mode>looped</mode>
			<path>Sounds/rumble.wav</path>
			<condition>
				<or>
					<property>/gear/gear[0]/wow</property>
					<property>/gear/gear[1]/wow</property>
				</or>
				<property>/sim/current-view/internal</property>
			</condition>
			<volume>
				<property>/velocities/groundspeed-kt</property>
				<type>log</type>
				<factor>0.25</factor>
			</volume>
		</rumble>

		<gear>
			<name>gear-left</name>
			<mode>in-transit</mode>
			<path>Aircraft/Spitfire/Sounds/T4T/intro.wav</path>			
		<!--	<path>Aircraft/Spitfire/Sounds/T4T/gear.wav</path> -->
			<property>/gear/gear[0]/position-norm</property>
			<volume>
				<factor>0.75</factor>
			</volume>
			<reference-dist>10.0</reference-dist>
			<max-dist>20.0</max-dist>		
		</gear>
		<gear>
			<name>gear-right</name>
			<mode>in-transit</mode>
			<path>Aircraft/Spitfire/Sounds/T4T/intro.wav</path>			
		<!--	<path>Aircraft/Spitfire/Sounds/T4T/gear.wav</path> -->
			<property>/gear/gear[1]/position-norm</property>
			<volume>
				<factor>0.75</factor>
			</volume>
			<reference-dist>10.0</reference-dist>
			<max-dist>20.0</max-dist>		
		</gear>
		<squeal>
			<name>squeal</name>
			<path>Sounds/squeal.wav</path>
			<condition>
				<or>
					<property>/gear/gear[0]/wow</property>
					<property>/gear/gear[1]/wow</property>
				</or>
			</condition>
			<volume>
				<property>/velocities/speed-down-fps</property>
				<factor>0.5</factor>
				<max>1.0</max>
			</volume>
			<volume>
				<property>/velocities/groundspeed-kt</property>
				<factor>0.01</factor>
				<max>1.0</max>
			</volume>
			<volume>
				<internal>dt_stop</internal>
				<factor>0.05</factor>
				<max>1.0</max>
			</volume>
			<pitch>
				<property>/velocities/groundspeed-kt</property>
				<factor>0.0025</factor>
				<offset>1.2</offset>
			</pitch>
		</squeal>

		<!-- ========= Flaps ============= -->
		<flap>
			<name>flaps</name>
			<mode>in-transit</mode>
			<path>Aircraft/Spitfire/Sounds/flaps.wav</path>
			<property>/fdm/jsbsim/fcs/wing_left/flap-rad</property>
			<volume>
				<factor>0.8</factor>
			</volume>
			<reference-dist>10.0</reference-dist>
			<max-dist>20.0</max-dist>
		</flap>
		
		<flap>
			<name>flaps</name>
			<mode>in-transit</mode>
			<path>Aircraft/Spitfire/Sounds/flaps.wav</path>
			<property>/fdm/jsbsim/fcs/wing_right/flap-rad</property>
			<volume>
				<factor>0.8</factor>
			</volume>
			<reference-dist>10.0</reference-dist>
			<max-dist>20.0</max-dist>
		</flap>		

		<!-- ========= Canopy ============= -->
		<canopy>
			<name>canopy slide</name>
			<mode>in-transit</mode>
			<path>Aircraft/Spitfire/Sounds/canopy_slide.wav</path>
			<property>gear/canopy/position-norm</property>
			<volume>
				<factor>0.5</factor>
			</volume>
			<reference-dist>10.0</reference-dist>
			<max-dist>20.0</max-dist>
		</canopy>

		<wind-canopy-closed>
			<name>wind</name>
			<mode>looped</mode>
			<path>Sounds/wind.wav</path>
			<condition>
				<equals>
					<property>gear/canopy/position-norm</property>
					<value>0</value>
				</equals>
			</condition>
			<property>/velocities/airspeed-kt</property>
			<volume>
				<property>/position/altitude-ft</property>
				<factor>-0.000015</factor>
				<offset>1.0</offset>
				<min>0.1</min>
				<max>1.0</max>
			</volume>
			<volume>
				<property>/velocities/airspeed-kt</property>
				<factor>0.0015</factor>
				<min>0.03</min>
				<max>0.25</max>
			</volume>
			<pitch>
				<property>/velocities/airspeed-kt</property>
				<factor>0.0035</factor>
				<offset>1.25</offset>
			</pitch>
		</wind-canopy-closed>

		<wind-canopy-open>
			<name>wind-loud</name>
			<mode>looped</mode>
			<path>Sounds/wind.wav</path>
			<condition>
				<greater-than>
					<property>gear/canopy/position-norm</property>
					<value>0.01</value>
				</greater-than>
			</condition>
			<property>/velocities/airspeed-kt</property>
			<volume>
				<property>/position/altitude-ft</property>
				<factor>-0.000015</factor>
				<offset>1.0</offset>
				<min>0.1</min>
				<max>1.0</max>
			</volume>
			<volume>
				<property>/velocities/airspeed-kt</property>
				<factor>0.002</factor>
				<min>0.1</min>
				<max>0.7</max>
			</volume>
			<pitch>
				<property>/velocities/airspeed-kt</property>
				<factor>0.0035</factor>
				<offset>1.25</offset>
			</pitch>
		</wind-canopy-open>

		<!-- ============ Gear Warning ============= -->
		<stall>
			<name>gear up warn</name>
			<mode>looped</mode>
			<path>Sounds/gear-hrn.wav</path>
			<condition>
				<and>
					<less-than-equals>
						<property>/controls/engines/engine/throttle</property>
						<value>0.05</value>
					</less-than-equals>
					<equals>
						<property>/controls/gear/gear-down</property>
						<value>0</value>
					</equals>
					<equals>
						<property>/sim/alarms/gear-warn</property>
						<value>0</value>
					</equals>
				</and>
			</condition>
			<property>/sim/alarms/gear-warn</property>
			<volume>
				<factor>0.7</factor>
			</volume>
			<reference-dist>10.0</reference-dist>
			<max-dist>20.0</max-dist>
		</stall>

		<!-- Switches -->
		<click>
			<name>mag left click down</name>
			<path>Aircraft/Spitfire/Sounds/click.wav</path>
			<condition>
				<property>/controls/engines/engine/mag-switch-left</property>
			</condition>
			<volume>
				<factor>1.0</factor>
			</volume>
		</click>
		<click>
			<name>mag left click up</name>
			<path>Aircraft/Spitfire/Sounds/click.wav</path>
			<condition>
				<not>
					<property>/controls/engines/engine/mag-switch-left</property>
				</not>
			</condition>
			<volume>
				<factor>1.0</factor>
			</volume>
		</click>
		<click>
			<name>mag right click down</name>
			<path>Aircraft/Spitfire/Sounds/click.wav</path>
			<condition>
				<property>/controls/engines/engine/mag-switch-right</property>
			</condition>
			<volume>
				<factor>1.0</factor>
			</volume>
		</click>
		<click>
			<name>mag right click up</name>
			<path>Aircraft/Spitfire/Sounds/click.wav</path>
			<condition>
				<not>
					<property>/controls/engines/engine/mag-switch-right</property>
				</not>
			</condition>
			<volume>
				<factor>1.0</factor>
			</volume>
		</click>
		<click>
			<name>rgs main click down</name>
			<path>Aircraft/Spitfire/Sounds/click.wav</path>
			<condition>
				<property>/controls/switches/gun-sight-main</property>
			</condition>
			<volume>
				<factor>1.0</factor>
			</volume>
		</click>
		<click>
			<name>rgs main click up</name>
			<path>Aircraft/Spitfire/Sounds/click.wav</path>
			<condition>
				<not>
					<property>/controls/switches/gun-sight-main</property>
				</not>
			</condition>
			<volume>
				<factor>1.0</factor>
			</volume>
		</click>
		<click>
			<name>nav lights click down</name>
			<path>Aircraft/Spitfire/Sounds/click.wav</path>
			<condition>
				<property>/controls/lighting/nav-lights</property>
			</condition>
			<volume>
				<factor>1.0</factor>
				<min>0.1</min>
				<max>0.9</max>
			</volume>
		</click>
		<click>
			<name>nav lights click up</name>
			<path>Aircraft/Spitfire/Sounds/click.wav</path>
			<condition>
				<not>
					<property>/controls/lighting/nav-lights</property>
				</not>
			</condition>
			<volume>
				<factor>1.0</factor>
				<min>0.1</min>
				<max>0.9</max>
			</volume>
		</click>

		<!-- ========= guns ============= -->
		<guns>
			<name>gunfire</name>
			<mode>looped</mode>
			<path>Aircraft/Spitfire/Sounds/gunfire_1.wav</path>
			<condition>
				<property>/controls/armament/trigger</property>
				<property>/ai/submodels/submodel/count</property>
			</condition>
			<volume>
				<factor>1.2</factor>
				<max>1.0</max>
			</volume>
		</guns>

		<!-- ========= guns ============= -->
		<intro>
			<name>Introduction by John Williams</name>
			<mode>looped</mode>
			<path>Aircraft/Spitfire/Sounds/T4T/intro.wav</path>
			<condition>
				<greater-than>
					<property>/fdm/jsbsim/simulation/sim-time-sec</property>
					<value>0</value>
				</greater-than>
				<equals>
					<property>controls/flight/canopy-slide</property>
					<value>0</value>
				</equals>
			</condition>
			<volume>
				<property>/position/altitude-ft</property>
				<factor>-0.0010</factor>
				<offset>0.4</offset>
				<min>0.01</min>
				<max>0.4</max>
			</volume>
		</intro>		
		
		
		
		
		
		<birds>
			<name>birdsong</name>
			<mode>looped</mode>
			<path>Aircraft/Spitfire/Sounds/birdsong.wav</path>
			<condition>
				<equals>
					<property>/sim/startup/season</property>
					<value>summer</value>
				</equals>
				<equals>
					<property>controls/flight/canopy-slide</property>
					<value>1</value>
				</equals>
			</condition>
			<volume>
				<property>/position/altitude-ft</property>
				<factor>-0.0010</factor>
				<offset>0.4</offset>
				<min>0.01</min>
				<max>0.4</max>
			</volume>
		</birds>

	</fx>
</PropertyList>
